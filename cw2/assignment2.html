<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
            "http://www.w3.org/TR/html4/loose.dtd">
<!--DOCTYPE Needs to be the very first thing on the page, or IE 6 goes
    into quirks mode, rather than standards mode -->
<!--DOCUMENT STARTS-->
<!--START:/ssi/doctype.inc-->
<html>
<head>
<!--END:/ssi/doctype.inc-->
<!--TITLE HERE-->

<TITLE>Text Technologies for Data Science: Coursework 2</TITLE>
  
<!--START:/cgi-bin/metabase-->
<!-- Metadata information automatically generated -->
<META NAME="DC.Title" CONTENT="Text Technologies for Data Science: Coursework 2">
<META NAME="DC.Creator" CONTENT="Walid Magdy">
<META NAME="DC.Creator.Address" CONTENT="wmagdy@inf.ed.ac.uk">
<META NAME="DC.Publisher" CONTENT="School of Informatics, The University of Edinburgh">
<!--END:/cgi-bin/metabase--><!--START:/ssi/headertab.inc-->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
<link href="/styles.css" rel="stylesheet" type="text/css" >
<link rel="icon" href="/images/tinyi.ico" type="image/x-icon" >
<link rel="shortcut icon" href="/images/tinyi.ico" type="image/x-icon" >

</head>

<body bgcolor="#FFFFFF" >
<div id="banner">
<a href="#main" class="skiplink"><img src="/images/spacer.gif" width="1" height="1" border="0" alt="skip navigation"></a>
<table style="width: 100%; border-style: none; background-color: #005093;" cellpadding="0" cellspacing="0" class="noprint">
  <tr>
    <td>
     <table width="100%" border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td width="84" align="left" valign="top"><img src="/images/crest.jpg" alt="The University of Edinburgh"  width="84" height="84" border="0" id="logo" usemap="#logo"></td>
        <td width="479" align="left" valign="top"><img src="/images/title.jpg" alt="School of Informatics" width="479" height="84" border="0" id="collegetitle" usemap="#title"></td>
        <td style="background-image: url(/images/logoEnd.jpg);background-repeat: no-repeat;" width="100%"> 
<div align="left">
<a target="_top" href="http://www.ed.ac.uk" class="headertext"><img src="/images/arrow.gif" width="16" height="11" border="0" alt=""></a><a target="_top" href="http://www.ed.ac.uk" class="headertext">University Homepage</a><br>
<a target="_top" href="/" class="headertext"><img src="/images/arrow.gif" width="16" height="11" border="0" alt=""></a><a target="_top" href="/" class="headertext">School Homepage</a><br>
<a target="_top" href="/about/contact.html" class="headertext"><img src="/images/arrow.gif" width="16" height="11" border="0" alt=""></a><a target="_top" href="/about/contact.html" class="headertext">School Contacts</a><br>
<a target="_top" href="/search/" class="headertext"><img src="/images/arrow.gif" width="16" height="11" border="0" alt=""></a><a target="_top" href="/search/" class="headertext">School Search</a><br>
<img src="/images/spacer.gif" width="212" height="1" border="0" alt=""></div>

      </tr>
    </table>
    </td>
  </tr>
</table>

<map name="logo">
<area target="_top" href="http://www.ed.ac.uk/" shape="poly" coords="0,0,0,84,83,84,83,83,84,83,84,0,0,0" alt="The University of Edinburgh" title="The University of Edinburgh">
<area target="_top" href="#main" shape="rect" coords="83,83,84,84" alt="Skip Navigation" title="Skip Navigation">
</map>
<map name="title">
<area target="_top" href="http://www.ed.ac.uk/" shape="rect" coords="9,17,253,33" alt="The University of Edinburgh" title="The University of Edinburgh">
<area target="_top" href="/" shape="rect" coords="10,42,270,76" alt="School of Informatics" title="School of Informatics">
</map>

</div> <!-- \banner -->
<div id="container">
<a name="main"></a> <!-- might not always be the top of the main content -->
<!--END:/ssi/headertab.inc-->


<h1>Coursework 2</h1>
<p>Based on lectures 9, 10, 13, and 14</p>
<p>This coursework is split into two main parts:</p>
<ul>
<li> <b>IR Evaluation</b>: based on lectures 9 and 10</li>
<li> <b>Text Classification</b>: based on lectures 13/14 and labs 6</li>
</ul>

<h2>IR Evaluation</h2>
<p> In the first part of the coursework, you are required to build a module to evaluate IR systems using different retrieval scores. The input to your module is a retrieval results of a given IR system and a file that has the list of relevant documents for each of the queries.</p>

Please follow the following steps:
<ul>
<li>
Download the following compressed file <a href="CW2/systems.zip"><tt>systems.zip</tt></a>. It has 7 files as follow:
<br> - 6 results files for 6 different IR systems, named <tt>S[1-6].results</tt>, each contains the retrieved set of documents for 10 queries numbered from 1 to 10. The format of the files is as follow:
<br>
  <tt><font color="green">
  &nbsp;&nbsp;&nbsp; 1 0 710 1 5.34 0 <br>
  &nbsp;&nbsp;&nbsp; 1 0 213 2 4.23 0 <br>
  &nbsp;&nbsp;&nbsp; 2 0 103 1 6.21 0 <br>
</font></tt>
The numbers above represent the following in order: <tt>query_number 0 doc_number rank_of_doc score 0</tt>.
<br> - <tt>qrels.txt</tt> file, which contains the list of relevant documents for each of the 10 queries. The format of the file is as follows:
<br>
  <tt><font color="green">
  &nbsp;&nbsp;&nbsp; 1: (9090,3) (6850,2) (9574,2)<br>
</font></tt>
where the first number is the query number (<tt><font color="green">1:</font></tt>), the remaining is the list of tuples of the document numbers and the value of relevance. e.g. <tt><font color="green">(9090,3)</font></tt> means that document <tt>9090</tt> has a relevance value of 3. This value is only important for measures such as DCG and nDCG; while for measures such as P, R, and MAP, all listed documents as relevant are treated the same regardless to the value.
</li>
<li>
Develop a module <tt><font color="blue">EVAL</font></tt> that calculates the following measures:
<br> - <b>P@10</b>: precision at cutoff 10 (only top 10 retrieved documents in the list are considered for each query).
<br> - <b>R@50</b>: recall at cutoff 50.
<br> - <b>r-precision</b>
<br> - <b>MAP</b>: mean average precision over all the retrieved results
<br> <i>hint</i>: for all previous scores, the value of relevance should be considered as 1. Being 1, 2, or 3 should not make a difference on the score.
<br> - <b>nDCG@10</b>: normalized discount cumulative gain at cutoff 10.
<br> - <b>nDCG@20</b>: normalized discount cumulative gain at cutoff 20.
<br> <i>Note</i>: Please use the equation in <a href="../../handouts2018/09Evaluation.pdf">Lecture 9</a>. Any other implementation for nDCG will not be accepted.
</li>
<li>
The following files need to be created in the exact described format:
<br> - <tt><b>S[1-6].eval</b></tt>: these are 6 files for each of the 6 systems, named from <tt>S1.eval</tt> to <tt>S6.eval</tt> that corresponds to <tt>S1.results</tt> to <tt>S6.results</tt> respectively. Each file should contain a table of the above scores for each of the 10 queries. An example output file for a given system S9 could be found <a href="CW2/S9.eval">here</a>. As shown in file, scores and heading are all tab separated. Before submission, please check that your out files for these 6 files is correct using the <a href="CW2/checkformat1.pl">Perl script</a>.
<br> - <tt><b>All.eval</b></tt>: this file contains the average scores of each of the 6 systems. An example formatted file is <a href="CW2/All.eval">here</a>. As shown in file, scores and heading are all tab separated. Before submission, please check that your format is correct using the <a href="CW2/checkformat2.pl">Perl script</a>.
</li>
<li>
Based on the average scores achieved for each system, you need to add a section in your report to describe the best system according to each score (i.e. what is the best system when evaluated using with P@10, and what is the best system with R@50, and so on). For each best system with a given score, please indicate if this system is statistically significantly better than the second system with that score or not. Please explain why.
<br> <i>hint</i>: using 2-tailed t-test, with p-value of 0.05. You are free to use existing tool for calculate the p-value. No need to implement this one. 
</li>
<li>
<b>NOTE</b>:
<br> - All files of results will be marked automatically. Therefore, please be careful with using the correct format.
<br> - Please round the scores to 3 decimal points (e.g.: 0.046317 --> 0.046).
</li>
</ul>


<h2>Text Classification</h2>
<p> In this part, you are required to apply text classification task on the same collection used in <a href="../labs/lab6.html">Lab 6</a></p>

Please apply the following:
<ul>
<li>
Apply all the steps in <a href="../labs/lab6.html">this lab</a>
</li>
<li>
For the baseline system that you created with SVM classifier and BOW as features, print the measures in a file called <tt>Eval.txt</tt> with the following format:
<tt><font color="blue">
    <br>&nbsp;&nbsp;&nbsp; Accuracy = 0.673
    <br>&nbsp;&nbsp;&nbsp; Macro-F1 = 0.631
    <br>&nbsp;&nbsp;&nbsp; Results per class: 
    <br>&nbsp;&nbsp;&nbsp; 1:	P=0.8	R=0.6	F=0.685 
    <br>&nbsp;&nbsp;&nbsp; 2:	P=0.45	R=0.712	F=0.551
    <br>&nbsp;&nbsp;&nbsp; 3:	. . .
</font></tt>
</li>
<li>
Try to improve the results of your classifier (you should have already did in the lab), the report a better performing system in a file: <tt>Eval2.txt</tt>.
</li>
<li>
In your report on this assignment, please explain how you managed to improve the performance compared to the baseline system, and mention how much gain in the Macro-F1 and accuracy you could achieve with your improved method.
</li>
</ul>

<h2>Submissions and Formats</h2>
You need to submit the following:
<ol>
<li>
<b><tt>S1.eval, S2.eval, S3.eval, S4.eval, S5.eval, S6.eval</tt></b>, and <b><tt>All.eval</tt></b>: 7 files containing the IR scores in the format described above.
</li>
<li>
<b><tt>Eval.txt</tt></b> and <b><tt>Eval2.txt</tt></b>: 2 files containing the classification results of the baseline system and the improved system as described above.
</li>
<li>
<b><tt>code.zip</tt></b>: a compressed directory contains all the files of your code that produces the IR evaluation scores of the IR part, with a <b>readme file</b> of the steps to run it. Please try to make your code as readable as possible (commented code would be highly appreciated).
</li>
<li>
<b><tt>Report.pdf</tt></b>: Your report on the work. It should contain:
<br> - 1 page on the work you did in the assignment in general, which can include information on your implementation code, summary on what was learnt, challenges faced, comment on any missing part in the assignment. 
<br> - 1 page on the best performing IR system for each score (you can put in a table), and an explanation of if the best system is significantly better than the second system or not, and why.
<br> - 1-2 pages on the work you did on classification, and how much improvement you could achieve over the baseline, and how it was achieved (new features? learning method? more training data? ... etc.)
</li>
</ol>
<p> On a DICE machine, create a directory called tts2, and place the following files into it. When you're ready to submit, run the following command:
<br><tt><font color="red">submit ttds cw2 tts2</font></tt>

<br><br> Submission deadline: <font color="red"><b>11:59pm, 17 November 2019</b></font>

<h2> Marking </h2> 

The assignment is worth <b>10%</b> of your total course mark and will be scored out of <b>10 points</b> as follows:

<ul>
<li><b>4 points</b> for the outputs of the IR Evaluation, namely: <tt>S[1-6].eval</tt> and <tt>All.eval</tt>. These marks would be assigned automatically. Any problem in following the format will lead to dramatic decrease in your mark.
</li>
<li><b>2 points</b> for the explanation in the report to the best IR system for each score and if it is significant or not.
</li>
<li><b>3 points</b> for the improved system in classification.
</li>
<li><b>1 point</b> on the code of the IR evaluation.
</li>
<li><b>-1 point</b> <i>as penalty</i> in case the format of submission is not as required
</li>
</ul>

<h2> Allowed / NOT Allowed </h2>
<ul>
<li>
For the IR measures, scores should be 100% calculated with your code. It is <b>NOT</b> allowed to use ready implementations of these scores. Only the ttest, you can use libraries (or any tool) to do it.
</li>
<li>
For the classification, you can directly use your work in the lab. No need to do any new work as long as you managed to achieve improvement of the baseline system. However, your mark depends on the amount of work and improvement you achieve.
</li>
</ul>



<!--START:/cgi-bin/locationbar-->
<p></p>
<DIV ALIGN=CENTER>
<img src="/images/page_bar.gif" width="489" height="1" alt="" vspace=5>
<br>
<a target="_top" href="/">Home</a>&nbsp;:&nbsp;<a target="_top" href="/teaching/">Teaching</a>&nbsp;:&nbsp;<a target="_top" href="/teaching/courses/">Courses</a>&nbsp;:&nbsp;<a target="_top" href="/teaching/courses/tts/">Tts</a>&nbsp;
</DIV>
<p></p>
<!--END:/cgi-bin/locationbar-->
<!--START:/ssi/footertab.inc-->
</div> <!-- end container -->
<table align="center">
<tr>
    <td>
    <div align="center"><font size="1">Informatics Forum, 10 Crichton Street, Edinburgh, EH8 9AB, Scotland, UK<br>
        Tel: +44 131 651 5661, Fax: +44 131 651 1426, E-mail: 
        school-office@inf.ed.ac.uk<br>
        Please <a href="/about/webmaster.html">contact our webadmin</a> with
        any comments or corrections. <a style="font-weight: bold" href="/about/cookies.html">Logging and Cookies</a><br>
        Unless explicitly stated otherwise, all material is copyright &copy;
        The University of Edinburgh
    </font></div>
   </td>
  </tr>
</table>
<!--TRACKING CODE ADDED BY Michael Fourman-->
<!-- Track with Google Analytics Code -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
// Informatics Tracker
var pageTracker = _gat._getTracker("UA-220125-3");
pageTracker._initData();
pageTracker._trackPageview();
// ed.ac.uk Tracker
var pageTracker_ed = _gat._getTracker("UA-3415584-4");
pageTracker_ed._setDomainName(".ed.ac.uk");
pageTracker_ed._setAllowHash(false);
pageTracker_ed._trackPageview();
} catch(err) {}
</script>
<!--END TRACKING CODE ADDED BY Michael Fourman-->

</body>
</html>
<!--END:/ssi/footertab.inc-->
<!--DOCUMENT ENDS-->
